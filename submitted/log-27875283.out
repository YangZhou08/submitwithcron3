Already up to date.
Already up to date.
Looking in indexes: https://pypi.org/simple, http://webservice
Collecting termcolor
  Using cached termcolor-2.4.0-py3-none-any.whl.metadata (6.1 kB)
Using cached termcolor-2.4.0-py3-none-any.whl (7.7 kB)
Installing collected packages: termcolor
Successfully installed termcolor-2.4.0
Looking in indexes: https://pypi.org/simple, http://webservice
Requirement already satisfied: wandb in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (0.16.3)
Requirement already satisfied: Click!=8.0.0,>=7.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (8.1.7)
Requirement already satisfied: GitPython!=3.1.29,>=1.0.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (3.1.42)
Requirement already satisfied: requests<3,>=2.0.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (2.31.0)
Requirement already satisfied: psutil>=5.0.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (5.9.8)
Requirement already satisfied: sentry-sdk>=1.0.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (1.40.6)
Requirement already satisfied: docker-pycreds>=0.4.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (0.4.0)
Requirement already satisfied: PyYAML in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (6.0.1)
Requirement already satisfied: setproctitle in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (1.3.3)
Requirement already satisfied: setuptools in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (68.2.2)
Requirement already satisfied: appdirs>=1.4.3 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (1.4.4)
Requirement already satisfied: protobuf!=4.21.0,<5,>=3.19.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from wandb) (4.25.2)
Requirement already satisfied: six>=1.4.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from docker-pycreds>=0.4.0->wandb) (1.16.0)
Requirement already satisfied: gitdb<5,>=4.0.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from GitPython!=3.1.29,>=1.0.0->wandb) (4.0.11)
Requirement already satisfied: charset-normalizer<4,>=2 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from requests<3,>=2.0.0->wandb) (2.0.4)
Requirement already satisfied: idna<4,>=2.5 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from requests<3,>=2.0.0->wandb) (3.4)
Requirement already satisfied: urllib3<3,>=1.21.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from requests<3,>=2.0.0->wandb) (1.26.18)
Requirement already satisfied: certifi>=2017.4.17 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from requests<3,>=2.0.0->wandb) (2024.2.2)
Requirement already satisfied: smmap<6,>=3.0.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from gitdb<5,>=4.0.1->GitPython!=3.1.29,>=1.0.0->wandb) (5.0.1)
Looking in indexes: https://pypi.org/simple, http://webservice
Requirement already satisfied: huggingface_hub[cli] in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (0.23.0)
Requirement already satisfied: filelock in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from huggingface_hub[cli]) (3.13.1)
Requirement already satisfied: fsspec>=2023.5.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from huggingface_hub[cli]) (2023.6.0)
Requirement already satisfied: packaging>=20.9 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from huggingface_hub[cli]) (23.2)
Requirement already satisfied: pyyaml>=5.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from huggingface_hub[cli]) (6.0.1)
Requirement already satisfied: requests in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from huggingface_hub[cli]) (2.31.0)
Requirement already satisfied: tqdm>=4.42.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from huggingface_hub[cli]) (4.66.1)
Requirement already satisfied: typing-extensions>=3.7.4.3 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from huggingface_hub[cli]) (4.9.0)
Collecting InquirerPy==0.3.4 (from huggingface_hub[cli])
  Downloading InquirerPy-0.3.4-py3-none-any.whl.metadata (8.1 kB)
Collecting pfzy<0.4.0,>=0.3.1 (from InquirerPy==0.3.4->huggingface_hub[cli])
  Downloading pfzy-0.3.4-py3-none-any.whl.metadata (4.9 kB)
Collecting prompt-toolkit<4.0.0,>=3.0.1 (from InquirerPy==0.3.4->huggingface_hub[cli])
  Downloading prompt_toolkit-3.0.43-py3-none-any.whl.metadata (6.5 kB)
Requirement already satisfied: charset-normalizer<4,>=2 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from requests->huggingface_hub[cli]) (2.0.4)
Requirement already satisfied: idna<4,>=2.5 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from requests->huggingface_hub[cli]) (3.4)
Requirement already satisfied: urllib3<3,>=1.21.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from requests->huggingface_hub[cli]) (1.26.18)
Requirement already satisfied: certifi>=2017.4.17 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from requests->huggingface_hub[cli]) (2024.2.2)
Collecting wcwidth (from prompt-toolkit<4.0.0,>=3.0.1->InquirerPy==0.3.4->huggingface_hub[cli])
  Downloading wcwidth-0.2.13-py2.py3-none-any.whl.metadata (14 kB)
Downloading InquirerPy-0.3.4-py3-none-any.whl (67 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 67.7/67.7 kB 2.4 MB/s eta 0:00:00
Downloading pfzy-0.3.4-py3-none-any.whl (8.5 kB)
Downloading prompt_toolkit-3.0.43-py3-none-any.whl (386 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 386.1/386.1 kB 11.0 MB/s eta 0:00:00
Downloading wcwidth-0.2.13-py2.py3-none-any.whl (34 kB)
Installing collected packages: wcwidth, prompt-toolkit, pfzy, InquirerPy
Successfully installed InquirerPy-0.3.4 pfzy-0.3.4 prompt-toolkit-3.0.43 wcwidth-0.2.13
Looking in indexes: https://pypi.org/simple, http://webservice
Requirement already satisfied: matplotlib in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (3.8.0)
Requirement already satisfied: contourpy>=1.0.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from matplotlib) (1.2.0)
Requirement already satisfied: cycler>=0.10 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from matplotlib) (0.11.0)
Requirement already satisfied: fonttools>=4.22.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from matplotlib) (4.25.0)
Requirement already satisfied: kiwisolver>=1.0.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from matplotlib) (1.4.4)
Requirement already satisfied: numpy<2,>=1.21 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from matplotlib) (1.26.3)
Requirement already satisfied: packaging>=20.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from matplotlib) (23.2)
Requirement already satisfied: pillow>=6.2.0 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from matplotlib) (10.0.1)
Requirement already satisfied: pyparsing>=2.3.1 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from matplotlib) (3.0.9)
Requirement already satisfied: python-dateutil>=2.7 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from matplotlib) (2.8.2)
Requirement already satisfied: six>=1.5 in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (from python-dateutil>=2.7->matplotlib) (1.16.0)
Looking in indexes: https://pypi.org/simple, http://webservice
Requirement already satisfied: sentencepiece in /private/home/beidic/.conda/envs/griffin/lib/python3.12/site-packages (0.1.99)
/private/home/beidic/.conda/envs/griffin/bin/python
Namespace(model='xhf', tasks='gsm8k', model_args='pretrained=meta-llama/Meta-Llama-3-8B-Instruct,griffin=True,check=True', num_fewshot=None, batch_size='1', max_batch_size=None, device=None, output_path=None, limit=128.0, topp=1.1, topk=64, spr=0.25, sink=8, local=256, use_cache=None, cache_requests=None, check_integrity=False, write_out=False, log_samples=False, show_config=False, include_path=None, gen_kwargs=None, verbosity='INFO', wandb_args='', predict_only=False, seed=[0, 1234, 1234], trust_remote_code=False)
Namespace(model='xhf', tasks='gsm8k', model_args='pretrained=meta-llama/Meta-Llama-3-8B-Instruct,griffin=True,check=True', num_fewshot=None, batch_size='1', max_batch_size=None, device=None, output_path=None, limit=128.0, topp=1.1, topk=64, spr=0.25, sink=8, local=256, use_cache=None, cache_requests=None, check_integrity=False, write_out=False, log_samples=False, show_config=False, include_path=None, gen_kwargs=None, verbosity='INFO', wandb_args='', predict_only=False, seed=[0, 1234, 1234], trust_remote_code=False)
Namespace(model='xhf', tasks='gsm8k', model_args='pretrained=meta-llama/Meta-Llama-3-8B-Instruct,griffin=True,check=True', num_fewshot=None, batch_size='1', max_batch_size=None, device=None, output_path=None, limit=128.0, topp=1.1, topk=64, spr=0.25, sink=8, local=256, use_cache=None, cache_requests=None, check_integrity=False, write_out=False, log_samples=False, show_config=False, include_path=None, gen_kwargs=None, verbosity='INFO', wandb_args='', predict_only=False, seed=[0, 1234, 1234], trust_remote_code=False)
Namespace(model='xhf', tasks='gsm8k', model_args='pretrained=meta-llama/Meta-Llama-3-8B-Instruct,griffin=True,check=True', num_fewshot=None, batch_size='1', max_batch_size=None, device=None, output_path=None, limit=128.0, topp=1.1, topk=64, spr=0.25, sink=8, local=256, use_cache=None, cache_requests=None, check_integrity=False, write_out=False, log_samples=False, show_config=False, include_path=None, gen_kwargs=None, verbosity='INFO', wandb_args='', predict_only=False, seed=[0, 1234, 1234], trust_remote_code=False)
Namespace(model='xhf', tasks='gsm8k', model_args='pretrained=meta-llama/Meta-Llama-3-8B-Instruct,griffin=True,check=True', num_fewshot=None, batch_size='1', max_batch_size=None, device=None, output_path=None, limit=128.0, topp=1.1, topk=64, spr=0.25, sink=8, local=256, use_cache=None, cache_requests=None, check_integrity=False, write_out=False, log_samples=False, show_config=False, include_path=None, gen_kwargs=None, verbosity='INFO', wandb_args='', predict_only=False, seed=[0, 1234, 1234], trust_remote_code=False)
Namespace(model='xhf', tasks='gsm8k', model_args='pretrained=meta-llama/Meta-Llama-3-8B-Instruct,griffin=True,check=True', num_fewshot=None, batch_size='1', max_batch_size=None, device=None, output_path=None, limit=128.0, topp=1.1, topk=64, spr=0.25, sink=8, local=256, use_cache=None, cache_requests=None, check_integrity=False, write_out=False, log_samples=False, show_config=False, include_path=None, gen_kwargs=None, verbosity='INFO', wandb_args='', predict_only=False, seed=[0, 1234, 1234], trust_remote_code=False)
Namespace(model='xhf', tasks='gsm8k', model_args='pretrained=meta-llama/Meta-Llama-3-8B-Instruct,griffin=True,check=True', num_fewshot=None, batch_size='1', max_batch_size=None, device=None, output_path=None, limit=128.0, topp=1.1, topk=64, spr=0.25, sink=8, local=256, use_cache=None, cache_requests=None, check_integrity=False, write_out=False, log_samples=False, show_config=False, include_path=None, gen_kwargs=None, verbosity='INFO', wandb_args='', predict_only=False, seed=[0, 1234, 1234], trust_remote_code=False)
Namespace(model='xhf', tasks='gsm8k', model_args='pretrained=meta-llama/Meta-Llama-3-8B-Instruct,griffin=True,check=True', num_fewshot=None, batch_size='1', max_batch_size=None, device=None, output_path=None, limit=128.0, topp=1.1, topk=64, spr=0.25, sink=8, local=256, use_cache=None, cache_requests=None, check_integrity=False, write_out=False, log_samples=False, show_config=False, include_path=None, gen_kwargs=None, verbosity='INFO', wandb_args='', predict_only=False, seed=[0, 1234, 1234], trust_remote_code=False)
1289 164 7.859756097560975
1444 187 7.721925133689839
1814 237 7.654008438818566
1344 175 7.68
1378 177 7.785310734463277
1507 193 7.808290155440415
1486 192 7.739583333333333
1520 197 7.715736040609137
{'results': {'gsm8k': {'exact_match,strict-match': 0.7265625, 'exact_match_stderr,strict-match': 0.03955156442885268, 'exact_match,flexible-extract': 0.734375, 'exact_match_stderr,flexible-extract': 0.03919147016458323, 'alias': 'gsm8k'}}, 'group_subtasks': {'gsm8k': []}, 'configs': {'gsm8k': {'task': 'gsm8k', 'group': ['math_word_problems'], 'dataset_path': 'gsm8k', 'dataset_name': 'main', 'training_split': 'train', 'test_split': 'test', 'fewshot_split': 'train', 'doc_to_text': 'Question: {{question}}\nAnswer:', 'doc_to_target': '{{answer}}', 'description': '', 'target_delimiter': ' ', 'fewshot_delimiter': '\n\n', 'num_fewshot': 5, 'metric_list': [{'metric': 'exact_match', 'aggregation': 'mean', 'higher_is_better': True, 'ignore_case': True, 'ignore_punctuation': False, 'regexes_to_ignore': [',', '\\$', '(?s).*#### ', '\\.$']}], 'output_type': 'generate_until', 'generation_kwargs': {'until': ['Question:', '</s>', '<|im_end|>'], 'do_sample': False, 'temperature': 0.0}, 'repeats': 1, 'filter_list': [{'name': 'strict-match', 'filter': [{'function': 'regex', 'regex_pattern': '#### (\\-?[0-9\\.\\,]+)'}, {'function': 'take_first'}]}, {'name': 'flexible-extract', 'filter': [{'function': 'regex', 'group_select': -1, 'regex_pattern': '(-?[$0-9.,]{2,})|(-?[0-9]+)'}, {'function': 'take_first'}]}], 'should_decontaminate': False, 'metadata': {'version': 3.0}}}, 'versions': {'gsm8k': 3.0}, 'n-shot': {'gsm8k': 5}}
xhf (pretrained=meta-llama/Meta-Llama-3-8B-Instruct,griffin=True,check=True), gen_kwargs: (None), limit: 128.0, num_fewshot: None, batch_size: 1
|Tasks|Version|     Filter     |n-shot|  Metric   |Value |   |Stderr|
|-----|------:|----------------|-----:|-----------|-----:|---|-----:|
|gsm8k|      3|strict-match    |     5|exact_match|0.7266|±  |0.0396|
|     |       |flexible-extract|     5|exact_match|0.7344|±  |0.0392|

